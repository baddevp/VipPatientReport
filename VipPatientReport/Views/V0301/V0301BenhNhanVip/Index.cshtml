@model List<M0301BenhNhanVip>
@using VipPatientReport.Models.M0301;



<div class="card p-1 d-flex">
	<div class="row px-3 g-0 h-100">
		<div class="col-3 p-2">
				<div class="border">
				<div class="p-2">
					<div style="width: 100%; padding:0;">
						<label class="form-label">Giai đoạn</label>
						<select id="selectGiaiDoan" class="form-select">
							<option value="Nam">Năm</option>
							<option value="Quy">Quý</option>
							<option value="Thang">Tháng</option>
							<option value="Ngay" selected>Ngày</option>
						</select>
					</div>
				</div>

				<!-- Container chứa Năm và Quý (dùng width 48%) -->
				<div id="selectContainer"
					 class="p-2 d-flex justify-content-between align-items-center">
					<!-- Năm và Quý sẽ được thêm vào đây -->
				</div>
				<div id ="select-date-area">
					<div class="p-2">
						<label class="form-label">Từ ngày</label>
						<div class="input-group">
							<input type="text"
								   class="form-control date-input"
								   id="ngayTuNgay"
								   name="TuNgay"
								   value="@DateTime.Now.ToString("dd-MM-yyyy")"
								   placeholder="dd-mm-yyyy"
								   autocomplete="off" />
							<span class="input-group-text cursor-pointer datepicker-trigger">
								<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#6c757d">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
								</svg>
							</span>
						</div>
						<span class="text-danger"></span>
					</div>
					<div class="p-2">
						<label class="form-label">Đến ngày</label>
						<div class="input-group">
							<input type="text"
								   class="form-control date-input"
								   id="ngayDenNgay"
								   name="DenNgay"
								   value="@DateTime.Now.ToString("dd-MM-yyyy")"
								   placeholder="dd-mm-yyyy"
								   autocomplete="off" />
							<span class="input-group-text cursor-pointer datepicker-trigger">
								<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#6c757d">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
								</svg>
							</span>
						</div>
						<span class="text-danger"></span>
					</div>
				</div>
					
				
					<div class="p-2">
						<button id="btnFilter" class="btn btn-outline-primary w-100 mb-2" @(ViewBag.quyenVaiTro.Xem ? "" : "disabled")>
								<i class="bi bi-funnel"></i> Lọc danh sách
						</button>
						<div class="d-flex justify-content-between align-items-center ">
						<button id="btnExportPDFGoiKham" class="btn btn-outline-danger" style="width: 45%;" @(ViewBag.quyenVaiTro.Xuat ? "" : "disabled")>
								<i class="bi bi-file-earmark-pdf"></i> Xuất PDF
							</button>
						<button id="btnExportExcelGoiKham" class="btn btn-outline-success" style="width: 45%;" @(ViewBag.quyenVaiTro.Xuat ? "" : "disabled")>
								<i class="bi bi-file-earmark-excel"></i> Xuất Excel
							</button>
						</div>
					</div>
					
				</div>
			
		</div>
		<div class="col-9 p-2" style="min-height: calc(100vh - 60px);">
			<!-- Thêm spinner -->
			<div id="loadingSpinner" class="text-center" style="display: none; margin: 20px 0;">
				<div class="spinner-border text-primary" role="status">
					<span class="visually-hidden">Loading...</span>
				</div>
				<p>Đang tải dữ liệu...</p>
			</div>


			<div class="table-responsive" style="max-height: calc(100vh - 100px); overflow-y: auto;">
				<table class="table table-bordered table-hover"  >
					<thead class="table-light">
						<tr>
							<th class="text-center" style="width:60px">STT</th>
							<th class="text-center text-nowrap">Mã y tế</th>
							<th class="text-center text-nowrap">Mã tiếp nhận</th>
							<th class="text-center text-nowrap">Họ và tên</th>
							<th class="text-center text-nowrap">Năm sinh</th>
							<th class="text-center text-nowrap">Giới tính</th>
							<th class="text-center">CCCD</th>
							<th class="text-center">PASSPORT</th>
							<th class="text-center text-nowrap">Quốc tịch</th>
							<th class="text-center text-nowrap">Chuyên gia</th>
							<th class="text-center text-nowrap">Gói khám</th>
							<th class="text-center">Phòng</th>
							<th class="text-center text-nowrap">Ngày tiếp nhận</th>
							<th class="text-center text-nowrap">Người tiếp nhận</th>
							<th class="text-center text-nowrap">Trạng thái</th>
						</tr>
					</thead>
					<tbody id="data-list">
					</tbody>

				</table>

			</div>
			<div class="d-flex justify-content-between align-items-center flex-wrap">
				
				<div class="d-flex align-items-center">
					<label for="pageSizeSelect" class="form-label mb-0 me-2">Số bản ghi mỗi trang:</label>
					<select id="pageSizeSelect" class="form-select form-select-sm" style="width: auto;">
						<option value="10">10</option>
						<option value="20">20</option>
						<option value="50">50</option>
						<option value="100">100</option>
					</select>
				</div>

				
				<div class="d-flex align-items-center">
					<nav aria-label="Page navigation">
						<ul class="pagination mb-0" id="pagination"></ul>
					</nav>
					<span id="pageInfo" class="ms-2"></span>
				</div>
			</div>


		</div>
	</div>
	
</div>



@section Scripts {
	
	<script src="/dist/js/J0301/J0301BenhNhanVip.js" asp-append-version="true" defer></script>
	<link rel="stylesheet" href="./dist/css/CSS0301/CSS0301Styles.css">

}